*  Model performance : 
*  - Static Electrical Characteristics and Dynamic Electrical Characteristics 
*    are modeled with the typical values from the datasheet.
*  - Temperature effects are not modeled
*
*  The following features have been modeled :
*  - Switching Characteristics such as propagation delay, peak currents
*  - Undervoltage lockout 
*
******************************************************************************
* PINS:
*  --------------------------------------------------------------------------
*  | NAME    | DESCRIPTION 
*  --------------------------------------------------------------------------
*  | OCP     | Current sense input 
*  --------------------------------------------------------------------------
*  | FLTC    | Fault clear time program input 
*  --------------------------------------------------------------------------
*  | EN_NFLT | Enable input and Fault indication output 
*  --------------------------------------------------------------------------
*  | IN      | Logic input for  gate driver output (HO), in phase with HO 
*  --------------------------------------------------------------------------
*  | VCC     | Low-side and logic supply voltage 
*  --------------------------------------------------------------------------
*  | VSS     | Logic ground 
*  --------------------------------------------------------------------------
*  | OUT     | Gate drive output 
*  --------------------------------------------------------------------------
*  | COM     | Low side return 
*  --------------------------------------------------------------------------

.SUBCKT 1ED44176N01F OCP FLTC EN_NFLT IN VCC VSS OUT COM
R_LIN IN COM 1E12
C_LIN IN COM 100F
R_LO OUT COM 1E12
R_VCC VCC COM 1E12
R_VSS VSS 0 1E12
C_EN_NFLT EN_NFLT COM 1P
R_EN_NFLT EN_NFLT COM 1E12
X_GD_TEMPLATE OUT COM IN VCC OCP FLTC EN_NFLT DT ONE_ED44176N01F_GD_TEMPLATE


.SUBCKT ONE_ED44176N01F_GD_TEMPLATE LO COM LIN VCC OCP FLTC SD DT PARAMS: HB_EN=0 SHT_EN=1 P_OFFSET_DT=5.4E-07 P_SLOPE_DT=
+ 2.2300000000000003E-11 P_SD_D=6.999999999999999E-09 P_TH_SD_UP=2.1 P_TH_SD_DW=1 P_C_SD_LPF=1.4476482730108395E-10 P_C_TPD=6.859E-09 
+ P_TH_TPD=0.4957157078 P_C_PW_MIN=1E-10 P_TH_HIN_OFF=1 P_TH_LIN_OFF=1 P_TH_HIN_ON=2.1 P_TH_LIN_ON=2.1 P_R_HIN_CL=100000.0 P_R_LIN_CL=
+ 100000.0 P_C_GATE=1E-12 P_RBOND_NMOS=0.01 P_RBOND_PMOS=0.01 P_LO_VGS_NMOS=8.49 P_LO_VGS_PMOS=8.49 P_LPMOS_LAMDA=0.39 P_LPMOS_KP=
+ 4E-06 P_LNMOS_LAMDA=0.39 P_LNMOS_KP=9E-06 P_HO_VGS_NMOS=8.49 P_HO_VGS_PMOS=8.49 P_HPMOS_LAMDA=0.39 P_HPMOS_KP=4E-06 P_HNMOS_LAMDA=
+ 0.39 P_HNMOS_KP=9E-06 P_VCC_UVH=11.9 P_VCC_UVL=11.4 P_VB_UVL=11.4 P_VB_UVH=11.9 P_R_UV_D_H=1428.5714285714287 P_R_UV_D_L=
+ 1428.5714285714287 P_VCC_MIN=10 P_IQ_VCC_MIN=5E-05 P_VB_MIN=10 P_IQ_VB_MIN=4.5E-05 P_VCC_MAX=20 P_IQ_VCC_MAX=0.00075 P_VB_MAX=20 
+ P_IQ_VB_MAX=0.000105 P_V_LEAK=600 P_I_LEAK=4E-05 P_R_BSD=35 P_N_BSD=1.4534194248417849 P_IS_BSD=9.1E-16 OCP_BLK_TIME=
+ 2.605766891419511E-08 OCP_TO_ENNFLT_DELAY=2.5714285714285718E-08 FILTER_VCC_UV=2.895296546021679E-07 DELAY_OUT_OCP= 
+ 4.28571428571429E-09 FILTER_FLTC= 1.5924131003119236E-05

R_LIN_CLAMP LIN COM {P_R_LIN_CL}
R_DT DT COM 1E12
X_LIN_VCC_D LIN VCC ONE_ED44176N01F_ESD_DIO PARAMS: P_V_BV=0.3 P_I_BV=1M
X_COM_LIN_D COM LIN ONE_ED44176N01F_ESD_DIO PARAMS: P_V_BV=0.3 P_I_BV=1M
X_CL_VCC VCC COM ONE_ED44176N01F_CL_DIO PARAMS: P_V_BV=25 P_I_BV=1
X_INPUT_STAGE LIN_DD LIN COM ONE_ED44176N01F_INPUT_STAGE PARAMS: P_SD_D={P_SD_D} P_TH_SD_UP={P_TH_SD_UP} P_TH_SD_DW={P_TH_SD_DW} 
+ P_C_SD_LPF={P_C_SD_LPF} P_C_TPD={P_C_TPD} P_TH_TPD={P_TH_TPD} P_C_PW_MIN={P_C_PW_MIN} P_TH_LIN_OFF={P_TH_LIN_OFF} P_TH_LIN_ON=
+ {P_TH_LIN_ON}
X_DEADTIME LIN_DT_DIG LIN_DD DT VCC COM EN_NFLT_D SD LATCH_Q ONE_ED44176N01F_DEADTIME PARAMS: P_SLOPE_DT={P_SLOPE_DT} P_OFFSET_DT=
+ {P_OFFSET_DT} HB_EN={HB_EN} SHT_EN = {SHT_EN}
X_LO_STAGE LO LIN_DT_DIG LATCH_Q EN_NFLT_D VCC COM ONE_ED44176N01F_LO_STAGE PARAMS: P_RBOND_PMOS={P_RBOND_PMOS} P_RBOND_NMOS=
+ {P_RBOND_NMOS} P_C_GATE={P_C_GATE} P_LO_VGS_PMOS={P_LO_VGS_PMOS} P_LPMOS_LAMDA={P_LPMOS_LAMDA} P_LPMOS_KP={P_LPMOS_KP} 
+ P_LO_VGS_NMOS={P_LO_VGS_NMOS} P_LNMOS_LAMDA={P_LNMOS_LAMDA} P_LNMOS_KP={P_LNMOS_KP}
X_UV_DETECT VCC_UV VCC COM ONE_ED44176N01F_UV_DETECT PARAMS: P_R_UV_D_H={P_R_UV_D_H} P_VCC_UVL={P_VCC_UVL} P_VCC_UVH={P_VCC_UVH} 
+ P_R_UV_D_L={P_R_UV_D_L}
X_CC_EMULATOR VCC COM ONE_ED44176N01F_CC_EMULATOR PARAMS: P_VCC_MIN={P_VCC_MIN} P_IQ_VCC_MIN={P_IQ_VCC_MIN} P_I_LEAK={P_I_LEAK} 
+ P_V_LEAK={P_V_LEAK} P_VCC_MAX={P_VCC_MAX} P_IQ_VCC_MAX={P_IQ_VCC_MAX}
X_OVC OCP SD FLTC LATCH_Q EN_NFLT_D VCC_UV VCC COM ONE_ED44176N01F_OVC_DETECT6
.ENDS ONE_ED44176N01F_GD_TEMPLATE
.SUBCKT ONE_ED44176N01F_INPUT_STAGE LIN_DD LIN COM PARAMS: P_SD_D=5E-08 P_TH_SD_UP=2.1 P_TH_SD_DW=1.1 P_C_TPD=1.9E-07 P_TH_TPD=10E-9 
+ P_TH_LIN_OFF=0.9 P_TH_LIN_ON=2.1 P_C_PW_MIN=42E-9 P_C_SD_LPF=1E-9
X_LIN_TH LIN LIN_DIG COM ONE_ED44176N01F_STP_IDEAL PARAMS: P_TH_UP={P_TH_LIN_ON} P_TH_DW={P_TH_LIN_OFF}
X_LIN_LPF LIN_DIG LIN_LPF_DIG ONE_ED44176N01F_ADV_FILTER PARAMS: P_C_DELAY = {P_C_PW_MIN}
X_LIN_DD LIN_LPF_DIG LIN_DD ONE_ED44176N01F_RC_DELAY_10 PARAMS: P_C_DELAY = {P_C_TPD} P_TH_TPD = {P_TH_TPD}
.ENDS ONE_ED44176N01F_INPUT_STAGE

.SUBCKT ONE_ED44176N01F_OVC_DETECT6 OCP EN_NFLT FLTC LATCH_Q EN_NFLT_D VCC_UV VCC COM
R_OCP OCP COM 800K
X_OCP1 OCP OCP_DIG COM ONE_ED44176N01F_STP_IDEAL PARAMS: P_TH_UP=0.5 P_TH_DW=0.5
X_OCP1_LPF OCP_DIG OCP_LPF_DIG ONE_ED44176N01F_ADV_FILTER PARAMS: P_C_DELAY=2.605766891419511E-08
X_OUT1_DELAY OCP_LPF_DIG OCP_OUT ONE_ED44176N01F_RC_DELAY_10 PARAMS: P_C_DELAY=2.5714285714285718E-08
E_OUT SET 0 VALUE={ IF( (V(OCP_OUT) > 0.5 | V(VCC_UV) < 0.5), 1 , 0 ) }
X_OCP_LATCH SET RESET LATCH_Q1 LATCH_QN ONE_ED44176N01F_SET_DOMINANT_RS_LATCH
X_Q_DELAY LATCH_Q1 LATCH_Q ONE_ED44176N01F_RC_DELAY_10 PARAMS: P_C_DELAY = 4.28571428571429E-09
G_FLTC VCC FLTC VALUE={TABLE(V(VCC,COM), 0,0, 1,25U, 5,25U, 15, 25U)}
R_FLTC VCC FLTC 1E12
R_QFLTC FLTC COM 1E12
G_QFLTC FLTC COM VALUE={V(FLTC,COM)/13.333*V(LATCH_QN)}
X_ST_FLTC FLTC FLTC_D COM ONE_ED44176N01F_STP_IDEAL PARAMS: P_TH_UP=2.7 P_TH_DW=2.7
X_OVC_LPF FLTC_D RESET ONE_ED44176N01F_ADV_FILTER PARAMS: P_C_DELAY = 1.5924131003119236E-09
X_EN_FLT EN_NFLT EN_NFLT_DD COM ONE_ED44176N01F_STP_IDEAL PARAMS: P_TH_UP=2.1 P_TH_DW=1
X_EN_FLT_DELAY EN_NFLT_DD EN_NFLT_D ONE_ED44176N01F_RC_DELAY_10 PARAMS: P_C_DELAY = 6.999999999999999E-09
G_Q EN_NFLT COM VALUE={(V(EN_NFLT,COM)/ 13.333) * V(LATCH_Q1)}
.ENDS ONE_ED44176N01F_OVC_DETECT6

.SUBCKT ONE_ED44176N01F_DEADTIME LIN_DT_DIG LIN DT VCC COM SD_DD SD LATCH_Q PARAMS: HB_EN=1 SHT_EN=0.0 P_SLOPE_DT=2.43236451E-05 
+ P_OFFSET_DT=5.4E-07 P_I_DT=1E-06 P_C_DT=10P P_TH_UP=0.5
X_LIN_DT LIN LIN_DD ONE_ED44176N01F_RC_DELAY_10 PARAMS: P_C_DELAY = 0.3N
E_VCC_1V VCC_1V 0 VALUE={TABLE( V(VCC,COM) , 0,0 , 3,0 , 6,1 )}
bG_DT VCC DT i=TABLE( V(VCC,DT) , 0,0 , 10M,P_I_DT )
bE_LDT_PLS LIN_DT_PLS 0 V=IF( (V(LIN_DD) > 0.1) | (V(LIN_DT_DIG) > 0.5) | (HB_EN < 0.5) , 1.0 , 0.0 )
bE_LIN_DT LIN_DT_DIG 0 V=IF( ( (V(LIN_DT_PLS) > 0.5) | HB_EN < 0.5 ) & (V(LIN_DD) > 0.5 & V(LATCH_Q) < 0.5 & V(SD_DD) > 0.5 )  , 1.0 , 0.0 )
bE_SHT_L SHT_L 0 V=IF( SHT_EN > 0.5 , V(LIN_DD) , V(LIN_DT_DIG) )
G_L_DT VCC_1V LOFF VALUE={TABLE( V(VCC_1V,LOFF) , 0,0 , 10M, I_DT( V(DT,COM) ) )}
C_L_DT LOFF 0 {P_C_DT}
R_L_DT LOFF 0 1E8
S_L_DT LOFF 0 SHT_L 0 ONE_ED44176N01F_DT_SW
.FUNC I_DT(V_DT) {P_C_DT * P_TH_UP / (P_SLOPE_DT/P_I_DT*V_DT + P_OFFSET_DT)}
.MODEL ONE_ED44176N01F_DT_SW VSWITCH RON=1 ROFF=100MEG VON=0.8 VOFF=0.2
.ENDS ONE_ED44176N01F_DEADTIME

.SUBCKT ONE_ED44176N01F_LO_STAGE LO LIN_DT_DIG VCC_UV SD_DD VCC COM PARAMS: P_RBOND_NMOS=10M P_RBOND_PMOS=10M P_C_GATE=1E-12 
+ P_LO_VGS_PMOS=6 P_LPMOS_LAMDA=0.06 P_LPMOS_KP=60U P_LO_VGS_NMOS=6 P_LNMOS_LAMDA=0.05 P_LNMOS_KP=100U
E_LGATE_DIG LGATE_DIG 0 VALUE {IF( (V(VCC_UV) < 0.5 & V(LIN_DT_DIG) > 0.5 & V(SD_DD) > 0.5 ), 1.0,0.0 )}
R_LGATE LGATE_DIG LGATE 1
C_LGATE LGATE 0 {P_C_GATE}
bE_LGATE_P VCC LGATE_P V= V(LGATE) * P_LO_VGS_PMOS * V(LGATE_DIG)
bE_LGATE_N LGATE_N COM V= (1 - V(LGATE)) * P_LO_VGS_NMOS * (1 - V(LGATE_DIG))
M_LO_PMOS LO LGATE_P VCC VCC ONE_ED44176N01F_LO_PMOS
M_LO_NMOS LO LGATE_N COM COM ONE_ED44176N01F_LO_NMOS
.MODEL ONE_ED44176N01F_LO_PMOS VDMOS pchan  VTO=-1 CGSO={100P*1m}  RB=1 RG=10 RS=10M RD={P_RBOND_PMOS} LAMBDA={P_LPMOS_LAMDA} KP=
+ {P_LPMOS_KP*1000} Ksubthres=50m RDS=1gig cjo=1p
*.MODEL ONE_ED44176N01F_LO_PMOS PMOS (LEVEL=1 VTO=-1 CGSO=100P W=1M L=1U RB=1 RG=10 RS=10M RD={P_RBOND_PMOS} LAMBDA={P_LPMOS_LAMDA} KP=
*+ {P_LPMOS_KP} ) 
.MODEL ONE_ED44176N01F_LO_NMOS vdmos  VTO=1 CGSO={100P*1m}  RB=1 RG=10 RS=10M RD={P_RBOND_NMOS} LAMBDA={P_LNMOS_LAMDA} KP=
+ {P_LNMOS_KP*1000} Ksubthres=50m RDS=1gig cjo=1p
*.MODEL ONE_ED44176N01F_LO_NMOS NMOS (LEVEL=1 VTO=1 CGSO=100P W=1M L=1U RB=1 RG=10 RS=10M RD={P_RBOND_NMOS} LAMBDA={P_LNMOS_LAMDA} KP=
*+ {P_LNMOS_KP} )
.ENDS ONE_ED44176N01F_LO_STAGE

.SUBCKT ONE_ED44176N01F_UV_DETECT VCC_UV VCC COM PARAMS: P_VB_UVL=7 P_VB_UVH=8 P_R_UV_D_H=142857 P_VCC_UVL=11.4 P_VCC_UVH=11.9 
+ P_R_UV_D_L=71428
X_VCC_UV VCC VCC_UV_DIG1 COM ONE_ED44176N01F_STP_IDEAL PARAMS: P_TH_UP={P_VCC_UVH} P_TH_DW={P_VCC_UVL}
E_TIMP TIMP 0 VALUE={2U}
X_VCC_DELAY VCC_UV_DIG1 VCC_UV_DIG TIMP ONE_ED44176N01F_TIMING_FILTER_OFF
R_VCC_UV VCC_UV_DIG VCC_UV {P_R_UV_D_L}
C_VCC_UV VCC_UV 0 1P
.ENDS ONE_ED44176N01F_UV_DETECT

.SUBCKT ONE_ED44176N01F_CC_EMULATOR VCC COM PARAMS: P_VB_MIN=10 P_VCC_MIN=10 P_IQ_VB_MIN=100U P_IQ_VCC_MIN=500U P_I_LEAK=1.0U P_V_LEAK=
+ 650 P_VB_MAX=10 P_VCC_MAX=10 P_IQ_VB_MAX=100U P_IQ_VCC_MAX=500U
G_QCC VCC COM VALUE {TABLE(V(VCC,COM) , 0,0 , 0.1,1U , 1,10U , {P_VCC_MIN},{P_IQ_VCC_MIN} , {P_VCC_MAX},{P_IQ_VCC_MAX} )}
R_QCC VCC COM 1E12
.ENDS ONE_ED44176N01F_CC_EMULATOR

.SUBCKT ONE_ED44176N01F_SET_DOMINANT_RS_LATCH S R Q QN
R_Q Q 0 1E12
R_QN QN 0 1E12
E_Q Q 0 VALUE={ IF( V(S) > 0.5 ,1, IF( (V(R) > 0.5 & V(S) < 0.5 ) | TIME < 1NS, 0, IF(V(QN)>0.5,0,1)))}
E_QN QN 0 VALUE={ IF( V(R) > 0.5 & V(S) < 0.5 ,1, IF( ( V(S) > 0.5), 0, IF(V(Q)>0.5,0,1))) }
.ENDS ONE_ED44176N01F_SET_DOMINANT_RS_LATCH

.SUBCKT ONE_ED44176N01F_CL_DIO C A PARAMS: P_V_BV=5 P_I_BV=1
bG_CL_DIO C A i= TABLE(V(C,A) , 0,0 , P_V_BV*1.01,0 , P_V_BV*1.02,P_I_BV , 10*P_V_BV, 100*P_I_BV ) cpar=10f Rpar=1E12
*C_CL_DIO C A 10F
*R_CL_DIO C A 1E12
.ENDS ONE_ED44176N01F_CL_DIO

.SUBCKT ONE_ED44176N01F_ESD_DIO A C PARAMS: P_V_BV=5 P_I_BV=1
bG_ESD_DIO A C i= TABLE(V(A,C) , 0,0 , P_V_BV*1.01,0 , P_V_BV*1.02,P_I_BV , 10*P_V_BV, 100*P_I_BV ) cpar=10f Rpar=1E12
*C_ESD_DIO A C 10F
*R_ESD_DIO A C 1E12
.ENDS ONE_ED44176N01F_ESD_DIO

.SUBCKT ONE_ED44176N01F_RC_DELAY_10 IN OUT PARAMS: P_C_DELAY = 60E-9 P_TH_TPD = 0.5
X_D1 IN D1 ONE_ED44176N01F_RC_DELAY_5 PARAMS: P_C_DELAY = {P_C_DELAY} P_TH_TPD = {P_TH_TPD}
X_D2 D1 OUT ONE_ED44176N01F_RC_DELAY_5 PARAMS: P_C_DELAY = {P_C_DELAY} P_TH_TPD = {P_TH_TPD}
.ENDS ONE_ED44176N01F_RC_DELAY_10

.SUBCKT ONE_ED44176N01F_RC_DELAY_5 IN OUT PARAMS: P_C_DELAY = 60E-9 P_TH_TPD = 0.5
X_D1 IN D1 ONE_ED44176N01F_RC_DELAY_BASE PARAMS: P_C_DELAY = {P_C_DELAY} P_TH_TPD = {P_TH_TPD}
X_D2 D1 D2 ONE_ED44176N01F_RC_DELAY_BASE PARAMS: P_C_DELAY = {P_C_DELAY} P_TH_TPD = {P_TH_TPD}
X_D3 D2 D3 ONE_ED44176N01F_RC_DELAY_BASE PARAMS: P_C_DELAY = {P_C_DELAY} P_TH_TPD = {P_TH_TPD}
X_D4 D3 D4 ONE_ED44176N01F_RC_DELAY_BASE PARAMS: P_C_DELAY = {P_C_DELAY} P_TH_TPD = {P_TH_TPD}
X_D5 D4 OUT ONE_ED44176N01F_RC_DELAY_BASE PARAMS: P_C_DELAY = {P_C_DELAY} P_TH_TPD = {P_TH_TPD}
.ENDS ONE_ED44176N01F_RC_DELAY_5

.SUBCKT ONE_ED44176N01F_RC_DELAY_BASE IN OUT PARAMS: P_C_DELAY = 60E-9 P_TH_TPD = 0.5
R_DELAY IN IN_DEL 1
C_DELAY IN_DEL 0 {P_C_DELAY}
bE_DELAY OUT 0 V=IF( V(IN_DEL) > P_TH_TPD , 1.0,0.0 )
.ENDS ONE_ED44176N01F_RC_DELAY_BASE

.SUBCKT ONE_ED44176N01F_ADV_FILTER IN OUT PARAMS: P_C_DELAY = 60E-9 P_TH_TPD = 0.5
R_RISE IN IN_DEL 1
C_RISE IN_DEL 0 {P_C_DELAY}
X_CMP IN_DEL OUT 0 ONE_ED44176N01F_STP_IDEAL PARAMS: P_TH_UP=0.999 P_TH_DW=0.001
.ENDS ONE_ED44176N01F_ADV_FILTER

.SUBCKT ONE_ED44176N01F_TIMING_FILTER_OFF IN OUT TIME
R1 IN 0 1E9
R2 OUT 0 1E9
bG_RISE IN IN_DEL i=V(IN,IN_DEL)/ MAX((V(TIME)/ABS(LOG(0.001))/1E-9),0.1)
C_RISE IN_DEL 0 1N
R_3 IN_DEL 0 1E12
vE_SUP SUP 0 1
bGA SUP IN_DEL i=V(SUP, IN_DEL)/1M* IF( V(IN) > 0.5,1,0)
X_CMP IN_DEL OUT 0 ONE_ED44176N01F_STP_IDEAL PARAMS: P_TH_UP=0.999 P_TH_DW=0.001
.ENDS ONE_ED44176N01F_TIMING_FILTER_OFF

.SUBCKT ONE_ED44176N01F_STP_IDEAL IN OUT GND PARAMS: P_TH_UP=0.9 P_TH_DW=0.1
bE_OUTP OUTP 0 V=IF( V(IN,GND)>=P_TH_UP | V(OUTN)<0.5 , 1,0 )
bE_OUTN OUTN 0 V=IF( V(IN,GND)<=P_TH_DW | V(OUTP)<0.5 , 1,0 )
bE_OUT OUT 0 V=V(OUTP)
.ENDS ONE_ED44176N01F_STP_IDEAL

.SUBCKT ONE_ED44176N01F_STN_IDEAL IN OUT GND PARAMS: P_TH_UP=0.9 P_TH_DW=0.1
bE_OUTP OUTP 0 V=IF( V(IN,GND)>=P_TH_UP | V(OUTN)<0.5 , 1,0 )
bE_OUTN OUTN 0 V=IF( V(IN,GND)<=P_TH_DW | V(OUTP)<0.5 , 1,0 )
bE_OUT OUT 0 V=V(OUTN)
.ENDS ONE_ED44176N01F_STN_IDEAL

.ENDS 1ED44176N01F