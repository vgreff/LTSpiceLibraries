.SUBCKT LM5111_1M  IN_A IN_B VCC OUT_A OUT_B VEE
R_R3         N14739787 N14739793  40  
M_M2         N14759463 N14759309 OUT_A OUT_A PMOS01           
C_C11         OUT_B VCC  10pF  
C_C4         VEE OUT_A  10pF  
R_R7         VCC N14739849  0.02  
R_R6         N14739819 N14739845  35  
E_E1         N14759251 OUT_A VALUE { IF(V(N14738809, 0) > 0.5, 5, -5) }
E_E2         OUT_A N14759283 VALUE { IF(V(N14738809, 0) > 0.5, -5, 5) }
X_U13         IN_B N14633630 N14633650 IN_INTB COMPHYS_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=0.5
R_R8         N14739999 VEE  0.02  
C_C7         VEE OUT_B  10pF  
X_U1         N146392252 N14738809 DELAY PARAMS:  RINP=1K DELAY=18n
C_C6         OUT_A N14759309  10p  
X_U15         UVLO IN_INTB N14634700 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_V7         N14633630 0 1.75V
E_E3         N14739787 OUT_B VALUE { IF(V(N14740155, 0) > 0.5, 5, -5) }
E_E4         OUT_B N14739819 VALUE { IF(V(N14740155, 0) > 0.5, -5, 5) }
V_V8         N14633650 0 0.4V
C_C1         N14759257 N14759313  30p  
C_C2         N14759463 N14759309  30p  
C_C12         OUT_B N14739845  10p  
M_M4         N14739849 N14739793 OUT_B OUT_B NMOS01           
X_U8         VCC N14634446 N146343843 UVLO COMPHYS_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=0.5
C_C3         OUT_A N14759257  10p  
X_U14         UVLO IN_INTA N146392252 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_C8         N14739793 N14739849  30p  
V_V1         N14634446 VEE 3.015V
X_U11         IN_A N14633764 N14633784 IN_INTA COMPHYS_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=0.5
M_M3         N14739999 N14739845 OUT_B OUT_B PMOS01           
C_C9         N14739999 N14739845  30p  
V_V2         N146343843 VEE 0.23V
R_R1         N14759251 N14759257  40  
C_C5         OUT_A VCC  10pF  
V_V5         N14633764 0 1.75V
X_U2         N14634700 N14740155 DELAY PARAMS:  RINP=1K DELAY=18n
M_M1         N14759313 N14759257 OUT_A OUT_A NMOS01           
R_R4         VCC N14759313  0.02  
R_R2         N14759283 N14759309  35  
C_C10         OUT_B N14739793  10p  
V_V6         N14633784 0 0.4V
R_R5         N14759463 VEE  0.02
*$
.model NMOS01 NMOS
+ VTO     = 2
+ KP      = 0.66
+ LAMBDA  = 0.001
*$
.model PMOS01 PMOS
+ VTO     = -2
+ KP      = 1.1
+ LAMBDA  = 0.001
*$
.SUBCKT DELAY INP OUT PARAMS: RINP = 1k DELAY = 10n 
R1 INP 101 {RINP}
C1 101 102 { 1.4427 * DELAY / RINP }
E1 102   0 OUT   0 0.5
E2 OUT   0 VALUE {IF(V(101) > 0.5, 1, 0)}
.ENDS DELAY
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN 
.ENDS LM5111_1M 

.SUBCKT LM5111_2M  IN_A IN_B VCC OUT_A OUT_B VEE
M_M6         N14809605 N14809547 OUT_A OUT_A NMOS01           
C_C18         OUT_A N14809601  10p  
R_R3         N14739787 N14739793  44  
V_V2         N148012163 0 0.23V
C_C11         OUT_B VCC  10pF  
C_C14         N14809547 N14809605  30p  
R_R7         VCC N14739849  0.02  
R_R6         N14739819 N14739845  37  
X_U13         IN_B N14633630 N14633650 N14633656 COMPHYS_BASIC_GEN PARAMS:
+  VDD=5 VSS=0 VTHRESH=0.5
M_M5         N14809755 N14809601 OUT_A OUT_A PMOS01           
C_C15         N14809755 N14809601  30p  
R_R8         N14739999 VEE  0.02  
X_U16         N14633656 N14804348 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_C7         VEE OUT_B  10pF  
X_U15         UVLO N14804348 N14634700 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_V7         N14633630 0 1.75V
X_U3         N14809435 N14809915 DELAY PARAMS:  RINP=1K DELAY=18n
C_C16         OUT_A N14809547  10p  
E_E3         N14739787 OUT_B VALUE { IF(V(N14740155, 0) > 0.5, 5, -5) }
E_E4         OUT_B N14739819 VALUE { IF(V(N14740155, 0) > 0.5, -5, 5) }
V_V8         N14633650 0 0.4V
R_R4         N14809541 N14809547  44  
C_C17         OUT_A VCC  10pF  
X_U14         IN_A N14809391 N14809423 N14809429 COMPHYS_BASIC_GEN PARAMS:
+  VDD=5 VSS=0 VTHRESH=0.5
C_C12         OUT_B N14739845  10p  
M_M4         N14739849 N14739793 OUT_B OUT_B NMOS01           
R_R9         N14809573 N14809601  37  
R_R10         VCC N14809605  0.02  
X_U18         UVLO N14809463 N14809435 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_R11         N14809755 VEE  0.02  
C_C8         N14739793 N14739849  30p  
V_V9         N14809391 0 1.75V
M_M3         N14739999 N14739845 OUT_B OUT_B PMOS01           
C_C13         VEE OUT_A  10pF  
C_C9         N14739999 N14739845  30p  
V_V10         N14809423 0 0.4V
E_E5         N14809541 OUT_A VALUE { IF(V(N14809915, 0) > 0.5, 5, -5) }
X_U8         VCC N14801280 N148012163 UVLO COMPHYS_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=0.5
E_E6         OUT_A N14809573 VALUE { IF(V(N14809915, 0) > 0.5, -5, 5) }
X_U2         N14634700 N14740155 DELAY PARAMS:  RINP=1K DELAY=18n
C_C10         OUT_B N14739793  10p  
V_V1         N14801280 VEE 3.015V
X_U17         N14809429 N14809463 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3

*$
.model NMOS01 NMOS
+ VTO     = 2
+ KP      = 0.66
+ LAMBDA  = 0.001
*$
.model PMOS01 PMOS
+ VTO     = -2
+ KP      = 1.1
+ LAMBDA  = 0.001
*$
.SUBCKT DELAY INP OUT PARAMS: RINP = 1k DELAY = 10n 
R1 INP 101 {RINP}
C1 101 102 { 1.4427 * DELAY / RINP }
E1 102   0 OUT   0 0.5
E2 OUT   0 VALUE {IF(V(101) > 0.5, 1, 0)}
.ENDS DELAY
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
.ENDS LM5111_2M