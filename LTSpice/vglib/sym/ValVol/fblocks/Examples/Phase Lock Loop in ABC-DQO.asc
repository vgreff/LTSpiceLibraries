Version 4
SHEET 1 1420 680
WIRE 992 -64 992 -96
WIRE 0 -16 -16 -16
WIRE 96 -16 80 -16
WIRE 160 -16 96 -16
WIRE 336 -16 320 -16
WIRE 400 -16 336 -16
WIRE 656 -16 560 -16
WIRE 864 -16 816 -16
WIRE 992 32 992 16
WIRE 160 48 112 48
WIRE 336 48 320 48
WIRE -16 96 -16 -16
WIRE 0 96 -16 96
WIRE 96 96 80 96
WIRE 112 96 112 48
WIRE 112 96 96 96
WIRE 160 112 144 112
WIRE 336 112 320 112
WIRE -16 208 -16 96
WIRE 0 208 -16 208
WIRE 96 208 80 208
WIRE 144 208 144 112
WIRE 144 208 96 208
WIRE 240 208 240 192
WIRE 544 208 240 208
WIRE 864 208 864 -16
WIRE 864 208 544 208
WIRE -16 240 -16 208
FLAG -16 240 0
FLAG 96 -16 A
FLAG 96 96 B
FLAG 96 208 C
FLAG 336 112 Vo
FLAG 336 -16 Vd
FLAG 336 48 Vq
FLAG 992 32 0
FLAG 992 -96 sin_out
FLAG 544 208 theta
SYMBOL voltage 96 -16 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 1 {fg} 0 0 240)
SYMBOL voltage 96 96 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value SINE(0 1 {fg} 0 0 120)
SYMBOL voltage 96 208 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value SINE(0 1 {fg} 0 0 0)
SYMBOL bv 992 -80 R0
SYMATTR InstName B6
SYMATTR Value V=sin(V(theta))
SYMBOL ValVol\\fblocks\\abc-dqo 240 48 R0
SYMATTR InstName U1
SYMATTR SpiceLine TF=1
SYMBOL ValVol\\fblocks\\pi 480 80 R0
SYMATTR InstName U2
SYMATTR SpiceLine KP=3000 TI=1m
SYMBOL ValVol\\fblocks\\idt_ir 736 80 R0
SYMATTR InstName U3
SYMATTR SpiceLine TI=1 IV=0
SYMATTR SpiceLine2 LL=-2*pi UL=2*pi
TEXT 368 272 Left 2 !.tran 0 100m 0 10u startup uic
TEXT -32 -120 Left 2 !.params fg=60
